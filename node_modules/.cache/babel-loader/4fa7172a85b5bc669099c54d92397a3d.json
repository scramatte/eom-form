{"remainingRequest":"/home/scramatte/vue/eom-form/node_modules/babel-loader/lib/index.js!/home/scramatte/vue/eom-form/node_modules/eslint-loader/index.js??ref--13-0!/home/scramatte/vue/eom-form/src/utils/validators.js","dependencies":[{"path":"/home/scramatte/vue/eom-form/src/utils/validators.js","mtime":1588755793091},{"path":"/home/scramatte/vue/eom-form/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/scramatte/vue/eom-form/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/scramatte/vue/eom-form/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGkxOG4gZnJvbSAnQC9pMThuJzsKaW1wb3J0IHsgaXNBcnJheSwgaXNOaWwgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgeyBjb21waWxlIH0gZnJvbSAnZXhwcmVzc2lvbi1ldmFsJzsKCmZ1bmN0aW9uIGlzRW1wdHkodmFsdWUsIHJlcXVpcmVkKSB7CiAgaWYgKGlzTmlsKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycpIHsKICAgIGlmIChyZXF1aXJlZCkgewogICAgICByZXR1cm4gaTE4bi50YygnZmllbGRfaXNfcmVxdWlyZWQnKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0KICB9CgogIHJldHVybiBudWxsOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgcmVxdWlyZWQ6IGZ1bmN0aW9uIHJlcXVpcmVkKHZhbHVlKSB7CiAgICBpZiAoaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAwIHx8IGlzTmlsKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycpIHsKICAgICAgcmV0dXJuIGkxOG4udGMoJ2ZpZWxkX2lzX3JlcXVpcmVkJyk7CiAgICB9CiAgfSwKICBtaW5MZW5ndGg6IGZ1bmN0aW9uIG1pbkxlbmd0aCh2YWx1ZSwgb3B0aW9ucykgewogICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA8IG9wdGlvbnMubWluKSB7CiAgICAgIHJldHVybiBpMThuLnRjKCd0b29fc2hvcnQnKTsKICAgIH0KICB9LAogIGFscGhhOiBmdW5jdGlvbiBhbHBoYSh2YWx1ZSwgZmllbGQpIHsKICAgIHZhciByZXMgPSBpc0VtcHR5KHZhbHVlLCBmaWVsZC5yZXF1aXJlZCk7CiAgICBpZiAocmVzICE9IG51bGwpIHJldHVybiByZXM7CiAgICB2YXIgcmUgPSAvXlthLXpBLVpdKiQvOwoKICAgIGlmICghcmUudGVzdCh2YWx1ZSkpIHsKICAgICAgcmV0dXJuIGkxOG4udGMoJ2ludmFsaWRfYWxwaGEnLCB2YWx1ZSk7CiAgICB9CiAgfSwKICBhbHBoYU51bWVyaWM6IGZ1bmN0aW9uIGFscGhhTnVtZXJpYyh2YWx1ZSwgZmllbGQpIHsKICAgIHZhciByZXMgPSBpc0VtcHR5KHZhbHVlLCBmaWVsZC5yZXF1aXJlZCk7CiAgICBpZiAocmVzICE9IG51bGwpIHJldHVybiByZXM7CiAgICB2YXIgcmUgPSAvXlthLXpBLVowLTldKiQvOwoKICAgIGlmICghcmUudGVzdCh2YWx1ZSkpIHsKICAgICAgcmV0dXJuIGkxOG4udGMoJ2ludmFsaWRfYWxwaGFfbnVtZXJpYycsIHZhbHVlKTsKICAgIH0KICB9LAogIGVtYWlsOiBmdW5jdGlvbiBlbWFpbCh2YWx1ZSwgZmllbGQpIHsKICAgIHZhciByZXMgPSBpc0VtcHR5KHZhbHVlLCBmaWVsZC5yZXF1aXJlZCk7CiAgICBpZiAocmVzICE9IG51bGwpIHJldHVybiByZXM7CiAgICB2YXIgcmUgPSAvXlx3KyhbLi1dP1x3KykqQFx3KyhbLi1dP1x3KykqKFwuXHd7MiwzfSkrJC87CgogICAgaWYgKCFyZS50ZXN0KHZhbHVlKSkgewogICAgICByZXR1cm4gaTE4bi50YygnaW52YWxpZF9lbWFpbCcsIHZhbHVlKTsKICAgIH0KICB9LAogIGFscGhhTnVtOiBmdW5jdGlvbiBhbHBoYU51bSh2YWx1ZSkgewogICAgaWYgKHZhbHVlKSB7CiAgICAgIHJldHVybiBpMThuLnRjKCdub3RfYWxwaGFudW1lcmljJywgdmFsdWUpOwogICAgfQogIH0sCiAgc2FtZUFzOiBmdW5jdGlvbiBzYW1lQXModmFsdWUsIG9wdGlvbnMpIHsKICAgIGlmIChvcHRpb25zLmV4cHIpIHsKICAgICAgdmFyIGZuID0gY29tcGlsZShvcHRpb25zLmV4cHIpOwoKICAgICAgaWYgKGZuKHRoaXMpICE9PSB2YWx1ZSkgewogICAgICAgIHJldHVybiBpMThuLnRjKCdub3RfdGhlX3NhbWVfYXMnLCB2YWx1ZSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/scramatte/vue/eom-form/src/utils/validators.js"],"names":["i18n","isArray","isNil","compile","isEmpty","value","required","tc","length","minLength","options","min","alpha","field","res","re","test","alphaNumeric","email","alphaNum","sameAs","expr","fn"],"mappings":"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","sourcesContent":["import i18n from '@/i18n'\nimport { isArray, isNil } from 'lodash'\nimport { compile } from 'expression-eval'\n\nfunction isEmpty (value, required) {\n  if (isNil(value) || value === '') {\n    if (required) {\n      return i18n.tc('field_is_required')\n    } else {\n      return ''\n    }\n  }\n  return null\n}\n\nexport default {\n  required: function (value) {\n    if ((isArray(value) && value.length === 0) || isNil(value) || value === '') {\n      return i18n.tc('field_is_required')\n    }\n  },\n  minLength: function (value, options) {\n    if (value && (value.length < options.min)) {\n      return i18n.tc('too_short')\n    }\n  },\n  alpha: function (value, field) {\n    let res = isEmpty(value, field.required)\n    if (res != null) return res\n\n    let re = /^[a-zA-Z]*$/\n    if (!re.test(value)) {\n      return i18n.tc('invalid_alpha', value)\n    }\n  },\n  alphaNumeric: function (value, field) {\n    let res = isEmpty(value, field.required)\n    if (res != null) return res\n\n    let re = /^[a-zA-Z0-9]*$/\n    if (!re.test(value)) {\n      return i18n.tc('invalid_alpha_numeric', value)\n    }\n  },\n  email: function (value, field) {\n    let res = isEmpty(value, field.required)\n    if (res != null) return res\n\n    let re = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/\n    if (!re.test(value)) {\n      return i18n.tc('invalid_email', value)\n    }\n  },\n  alphaNum: function (value) {\n    if (value) {\n      return i18n.tc('not_alphanumeric', value)\n    }\n  },\n  sameAs: function (value, options) {\n    if (options.expr) {\n      const fn = compile(options.expr)\n      if (fn(this) !== value) {\n        return i18n.tc('not_the_same_as', value)\n      }\n    }\n  }\n}\n"]}]}